@model IEnumerable<D.Models.Товар>

@{
    ViewBag.Title = "Прайс-лист";
}

@Html.Partial("_SideMenuGoods")
<script>
    $(document).ready(function () {



        $(".table-hover tbody tr td:not(.dontPrint)").click(

            function () {



                var ID = $(this).parent().find("input[name='item.ID_товара']").val();
                var url = "@Url.Action("Details")/" + ID;

                document.location.href = url;
                //.done(function (data) {
                //    $('.body-content').html(data);
                //});

            });

        $('#moreButtons').click(function () {

            if ($(".moreButtons").css('display') == 'block')

            { $(".moreButtons").css('display', 'none'); }

            else $(".moreButtons").css('display', 'block');
        });

    });
</script>
<div id="table">
    <div id="header" class="test-border1">
        <table class="table-bordered table-striped table-hover" id="TableHeader">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Обозначение)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Наименование)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Единица_измерения)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Цена_с_НДС)
                    </th>
                </tr>
            </thead>
        </table>
    </div>
    <div id="table-container">
    <div class="test-border">
        <table class="table-bordered table-striped table-hover" id="Table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Обозначение)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Наименование)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Единица_измерения)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Цена_с_НДС)
                    </th>
                </tr>
            </thead>
            @foreach (var item in Model)
            {
                <tr>
                    <td class="text-left">
                        @Html.DisplayFor(modelItem => item.Обозначение)
                        @Html.HiddenFor(modelItem => item.ID_товара)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Наименование)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Единица_измерения)
                    </td>

                    <td style="font-weight:bold">
                        @Html.DisplayFor(modelItem => item.Цена_с_НДС)
                    </td>
                </tr>
            }

        </table>



    </div>
        </div>
    <div class="btn-group buttons">

        @{

            if (ViewBag.PageCount > 10)
            {
                @Html.ActionLink("<", "Price", new { page = ViewBag.CurrentPage - 1 == 0 ? 1 : ViewBag.CurrentPage - 1 }, new { @class = "btn btn-default pageBtn" })
            }

            for (long i = 1; i <= ViewBag.PageCountResult; i++)
            {
                if (i == ViewBag.CurrentPage)
                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn btn-primary selected" }) }

                else
                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn btn-default pageBtn" })}
            }



            if (ViewBag.PageCount > 10)
            {
                <a href="#" class="glyphicon glyphicon-circle-arrow-down btn btn-default pageBtn" id="moreButtons"></a>
                    <div class="moreButtons">

                        @{
                            for (long i = 8; i <= ViewBag.PageCount - 7; i++)
                            {
                                if (i == ViewBag.CurrentPage)
                                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn-sm btn-primary" }) }

                                else
                                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn-sm btn-default pageBtn" })}
                            }
                        }



                    </div>


                            for (long i = ViewBag.PageCount - 6; i <= ViewBag.PageCount; i++)
                            {
                                if (i == ViewBag.CurrentPage)
                                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn btn-primary selected" }) }

                                else
                                {@Html.ActionLink(i.ToString(), "Price", new { page = i }, new { @class = "btn btn-default pageBtn" })  }
                            }
                            @Html.ActionLink(">", "Price", new { page = ViewBag.CurrentPage + 1 > ViewBag.PageCount ? ViewBag.CurrentPage : ViewBag.CurrentPage + 1 }, new { @class = "btn btn-default pageBtn" })
                            }

        }


    </div>

</div>
    <div class="scrollup">
        <i class="glyphicon glyphicon-chevron-up"></i>
    </div>







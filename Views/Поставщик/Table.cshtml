@model IEnumerable<D.Models.Поставщик>

<script>
    $("ul.navbar-nav li:contains('Поставщики')").addClass("active");

    $(document).ready(function () {
        $(document).on('click', '#tbProviders1 tbody tr', function () {
            var ID = $(this).find("input[name='item.УНП_поставщика']").val();
            var url = "@Url.Action("Details")/" + ID;
            document.location.href = url;
        });
        $(document).ready(function () {
            $('#tbProviders1').DataTable({
                buttons: [{
                    fade: 500,
                    autoClose: true,
                    className: 'btn btn-xs',
                    extend: 'collection',
                    text: 'Экспорт',
                    buttons: [{
                        extend: 'copy', text: 'Копировать', className: 'btn btn-xs', exportOptions: {
                            modifier: {
                                order: 'current',
                                page: 'current',
                                search: 'applied'
                            }
                        }
                    }
                , {
                    extend: 'excel', className: 'btn btn-xs', exportOptions: {
                        modifier: {
                            order: 'current',
                            page: 'current',
                            search: 'applied'
                        }
                    }
                }, {
                    extend: 'pdf', className: 'btn btn-xs', orientation: 'landscape', pageSize: 'A5', exportOptions: {
                        modifier: {
                            order: 'current',
                            page: 'current',
                            search: 'applied'
                        }
                    }
                }, {
                    extend: 'print', text: 'Печать', className: 'btn btn-xs', exportOptions: {
                        modifier: {
                            order: 'current',
                            page: 'current',
                            search: 'applied'
                        }
                    }
                }
                    ]
                }, { extend: 'colvis', text: 'Видимость столбцов', className: 'btn btn-xs' }],
                "preDrawCallback": function (settings) {

                    $('#divForTable').fadeIn(1000);

                },
                "processing": true,
                stateSave: true,
                "stateDuration": 60 * 60 * 24,
                "order": [],
                fixedHeader: true,
                "autoWidth": false,
                "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Все"]],
                "language": {
                    "lengthMenu": "Показывать _MENU_ записей",
                    "info": "Показаны записи с _START_ по _END_ из _TOTAL_",
                    "infoFiltered": " (Найдено из _MAX_)",
                    "emptyTable": "Нет данных для отображения",
                    "infoEmpty": "Показаны записи с 0 по 0 из 0",
                    "infoPostFix": "",
                    "thousands": ",",
                    "loadingRecords": "Загрузка...",
                    "processing": "Обработка...",
                    "search": "Поиск:",
                    "zeroRecords": "Ничего не найдено",
                    "paginate": {
                        "first": "Первая",
                        "last": "Последняя",
                        "next": "Следующая",
                        "previous": "Предыдущая"
                    },
                    buttons: {
                        copyTitle: 'Данные скопированы',
                        copyKeys: 'Используйте клавиатуру или меню для выбора команды',
                        copyTitle: 'Копирование в буфер',
                        copySuccess: {
                            1: "Скопирована одна запись в буфер",
                            _: "Скопировано %d записей в буфер"
                        },
                    }
                },


                "dom": "<'row'<'col-sm-4'l><'col-sm-4'B><'col-sm-4'f>>" +
                        "<'row'<'col-sm-12'tr>>" +
                         "<'row'<'col-sm-5'i><'col-sm-7'p>>",
                "processing": true,

                fixedHeader: true
            });
        });



    });

</script>
<div class="row">
    <div class="col-lg-2">@Html.Partial("_SideMenuProvider")</div>
    <div class="col-lg-9 col-lg-offset-0">


        <table class="table-bordered table-striped table-hover table table-condensed" id="tbProviders1">
            <colgroup>
                <col width="15%">
                <col width="35%">
                <col width="35%">
                <col>
            </colgroup>
            <thead>
                <tr>

                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.УНП_поставщика)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Название_организации)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Адрес)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Телефон)
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
            {
                    <tr>

                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.УНП_поставщика)
                            @Html.HiddenFor(modelItem => item.УНП_поставщика)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.Название_организации)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.Адрес)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.Телефон)
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
    <div class="col-lg-1"></div>
</div>

<div id="mdNewProvider" class="modal faden" data-keyboard="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Новый поставщик</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xs-12 col-lg-12">
                            <fieldset>

                                @using (Html.BeginForm("Create", "Поставщик", FormMethod.Post))
                                {
                                    @Html.AntiForgeryToken()

                                    <div class="form-horizontal">


                                        <div class="form-group has-feedback">
                                            @Html.Label("УНП поставщика", htmlAttributes: new { @class = "control-label col-md-3" })
                                            <div class="col-md-7">
                                                @Html.Editor("УНП_поставщика", new { htmlAttributes = new { @class = "form-control", @required = "required", @pattern = "[0-9]{9,9}" } })
                                                <span class="glyphicon form-control-feedback"></span>
                                            </div>
                                        </div>

                                        <div class="form-group has-feedback">
                                            @Html.Label("Название организации", htmlAttributes: new { @class = "control-label col-md-3" })
                                            <div class="col-md-7">
                                                @Html.Editor("Название_организации", new { htmlAttributes = new { @class = "form-control", @pattern = "[A-Za-zА-Яа-яЁё\\s0-9]{0,200}" } })
                                                <span class="glyphicon form-control-feedback"></span>
                                            </div>
                                        </div>

                                        <div class="form-group has-feedback">
                                            @Html.Label("Адрес", htmlAttributes: new { @class = "control-label col-md-3" })
                                            <div class="col-md-7">
                                                @Html.Editor("Адрес", new { htmlAttributes = new { @class = "form-control", @pattern = "[A-Za-zА-Яа-яЁё\\s]{0,200}" } })
                                                <span class="glyphicon form-control-feedback"></span>
                                            </div>
                                        </div>

                                        <div class="form-group has-feedback">
                                            @Html.Label("Телефон", htmlAttributes: new { @class = "control-label col-md-3" })
                                            <div class="col-md-7">
                                                @Html.Editor("Телефон", new { htmlAttributes = new { @class = "form-control", @pattern = "[0-9\\+\\(\\)-]{4,20}" } })
                                                <span class="glyphicon form-control-feedback"></span>
                                            </div>
                                        </div>


                                        <div class="form-group has-feedback">
                                            @Html.Label("Описание", htmlAttributes: new { @class = "control-label col-md-3" })
                                            <div class="col-md-7">
                                                @Html.TextArea("Описание", null, 2, 34, new { htmlAttributes = new { @class = "form-control", @maxlength = "200" } })
                                                <span class="glyphicon form-control-feedback"></span>
                                            </div>
                                        </div>




                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                                            <button type="submit" class="btn btn-success">Добавить поставщика</button>
                                        </div>
                                    </div>
                                }
                            </fieldset>

                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>

<div class="scrollup">
    <i class="glyphicon glyphicon-chevron-up"></i>
</div>






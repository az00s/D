@model IEnumerable<D.Models.Заказ>

<script>
   


    $("ul.navbar-nav li:contains('Заказы')").addClass("active");

    $(document).on('click', '#tbOrders tbody tr', function () {
        var ID = $(this).find("input[name='item.ID_заказа']").val();
        var url = "@Url.Action("Details")/" + ID;
        document.location.href = url;
    });

    $('#mdNewOrder').modal('handleUpdate');

    $(document).ready(function () {
        $('#lkOrderPeriod').click(function () {
           $('input[name="start"]').val(null);
            $('input[name="end"]').val(null);
            if ($('#dvPeriodSearch').css("display") == 'none') {
                $('#dvPeriodSearch').css("display", "block");
            }
            else {
                $('#dvPeriodSearch').css("display", "none");
            }
        });


        var tableO = $('#tbOrders').DataTable({
            buttons: [{
                fade: 500,
                autoClose: true,
                className: 'btn btn-xs',
                extend: 'collection',
                text: 'Экспорт',
                buttons: [{
                    extend: 'copy', text: 'Копировать', className: 'btn btn-xs', exportOptions: {
                        modifier: {
                            order: 'current',
                            page: 'current',
                            search: 'applied'
                        }
                    }
                }
            , {
                extend: 'excel', className: 'btn btn-xs', exportOptions: {
                    modifier: {
                        order: 'current',
                        page: 'current',
                        search: 'applied'
                    }
                }
            }, {
                extend: 'pdf', className: 'btn btn-xs', orientation: 'landscape', pageSize: 'A5', exportOptions: {
                    modifier: {
                        order: 'current',
                        page: 'current',
                        search: 'applied'
                    }
                }
            }, {
                extend: 'print', text: 'Печать', className: 'btn btn-xs', exportOptions: {
                    modifier: {
                        order: 'current',
                        page: 'current',
                        search: 'applied'
                    }
                }
            }
                ]
            }, { extend: 'colvis', text: 'Видимость столбцов', className: 'btn btn-xs' }],
            "preDrawCallback": function (settings) {

                $('#divForTable').fadeIn(1000);

            },
            "processing": true,
            stateSave: true,
            "stateDuration": 60 * 60 * 24,
            "order": [],
            fixedHeader: true,
            "autoWidth": false,
            "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Все"]],
            "language": {
                "lengthMenu": "Показывать _MENU_ записей",
                "info": "Показаны записи с _START_ по _END_ из _TOTAL_",
                "infoFiltered": " (Найдено из _MAX_)",
                "emptyTable": "Нет данных для отображения",
                "infoEmpty": "Показаны записи с 0 по 0 из 0",
                "infoPostFix": "",
                "thousands": ",",
                "loadingRecords": "Загрузка...",
                "processing": "Обработка...",
                "search": "Поиск:",
                "zeroRecords": "Ничего не найдено",
                "paginate": {
                    "first": "Первая",
                    "last": "Последняя",
                    "next": "Следующая",
                    "previous": "Предыдущая"
                },
                buttons: {
                    copyTitle: 'Данные скопированы',
                    copyKeys: 'Используйте клавиатуру или меню для выбора команды',
                    copyTitle: 'Копирование в буфер',
                    copySuccess: {
                        1: "Скопирована одна запись в буфер",
                        _: "Скопировано %d записей в буфер"
                    },
                }
            },


            "dom": "<'row'<'col-sm-4'l><'col-sm-4'B><'col-sm-4'f>>" +
                    "<'row'<'col-sm-12'tr>>" +
                     "<'row'<'col-sm-5'i><'col-sm-7'p>>",
            "processing": true,

            fixedHeader: true,
            
        });

        function DateToSeconds(date) {
            var arr = date.split('.');
            return Date.parse(arr[2] + '-' + arr[1] + '-' + arr[0]);
        };

        $.fn.dataTable.ext.search.push(
    function (settings, data, dataIndex) {
        
        if (settings.nTable.id == "tbOrders")
        {
            var start = $('input[name="start"]').val();
            var end = $('input[name="end"]').val();

            return DateToSeconds(data[1]) >= DateToSeconds(start) && DateToSeconds(data[1]) <= DateToSeconds(end) ? true : false;
        }
        return true;
        
    }
);

        

        $("input[name='start'],input[name='end']").on('change', function () {
           
            tableO.draw();
            
        });

        var tableGoodsChosen = $('#tbGoodsChosen').DataTable({

            "processing": true,


            "order": [],
            fixedHeader: true,
            "autoWidth": false,

            "language": {

                "info": "Показаны записи с _START_ по _END_ из _TOTAL_",

                "emptyTable": "Нет данных для отображения",
                "infoEmpty": "Показаны записи с 0 по 0 из 0",
                "infoPostFix": "",
                "thousands": ",",
                "loadingRecords": "Загрузка...",
                "processing": "Обработка...",
                "search": "Поиск:",
                "zeroRecords": "Ничего не найдено",


            },


            "dom":
                    "<'row'<'col-sm-12'tr>>",


            fixedHeader: true
        });
    });




</script>


<script>

    //function LoadData(data) {

    //    var tableO = $("#tbOrders").dataTable({ "ajaxSource": data });
       
    //    //tableO.data = data;
    //    tableO.draw();


    //}
</script>
<div class="row">
    <div class="col-lg-2">
        <div class="row">@Html.Partial("_SideMenuOrder")</div>

        <div class="row">
            <div class="col-lg-12">
                
            </div>
        </div>





        <script type="text/javascript">

            $(function () {
                $('#dtpStart').datetimepicker({ pickTime: false, language: 'ru' });
            });
            $(function () {
                $('#dtpEnd').datetimepicker({ pickTime: false, language: 'ru' });
            });
        </script>
    </div>

    <div id="dvForTable" class="col-lg-9 col-lg-offset-0">


        <table class="table-bordered table-striped table-hover table table-condensed" id="tbOrders">
            <colgroup>
                <col width="15%">
                <col width="15%">
                <col width="35%">
                <col>
            </colgroup>
            <thead>
                <tr>

                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.ID_заказа)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Дата_заказа)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.CustomerEnt.Название_организации)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Сумма_заказа_с_НДС)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Статус_заказа)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Сотрудник)
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
            {
                            <tr>

                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.ID_заказа)
                                    @Html.HiddenFor(modelItem => item.ID_заказа)
                                </td>
                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.Дата_заказа)
                                </td>
                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.CustomerEnt.Название_организации)
                                </td>
                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.Сумма_заказа_с_НДС)
                                </td>
                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.Статус_заказа)
                                </td>
                                <td class="text-center">
                                    @Html.DisplayFor(modelItem => item.Сотрудник.Фамилия)
                                </td>
                            </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="col-lg-1"></div>
</div>

<div id="mdNewOrder" class="modal faden" data-keyboard="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Новый заказ</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xs-12 col-lg-12">


                            <fieldset>

                                @using (Html.BeginForm("Create", "Заказ", FormMethod.Post, new { @id = "fmNewOrder" }))
                                {
                        @Html.AntiForgeryToken()

                            <div class="form-horizontal">


                                <div class="form-group">
                                    @Html.Label("Дата заказа", htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7 input-group date" id="datetimepicker1">
                                        <span class="input-group-addon">
                                            <span class="glyphicon-calendar glyphicon"></span>
                                        </span>
                                        @Html.TextBox("Дата_заказа", null, new { @class = "form-control", @readonly = "readonly", @required = "required" })



                                    </div>
                                </div>
                                <script type="text/javascript">
                                    $(function () {
                                        $('#datetimepicker1').datetimepicker({ pickTime: false, language: 'ru' });
                                    });
                                </script>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Клиент</label>
                                    <div class="col-md-7">
                                        <div class="indoorBtnDiv input-group">
                                            <input type="hidden" value="" name="ID_клиента" />
                                            <input id="indoorText" class="form-control" name="Клиент" type="text" value="" readonly required />
                                            <div class="input-group-btn">
                                                <a href="#mdChoiceClient" class="indoorBtn btn btn-default" data-toggle="modal">+</a>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <script>
                                    $(document).ready(function () {

                                        $('#tbClients').DataTable({

                                            "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Все"]],

                                            "processing": true,
                                            "order": [[1, 'desc']],
                                            fixedHeader: true,
                                            "autoWidth": false,
                                            "language": {
                                                "lengthMenu": "Показывать _MENU_ записей",
                                                "info": "Показаны записи с _START_ по _END_ из _TOTAL_ записей",
                                                "infoFiltered": " (Найдено из _MAX_ записей)",
                                                "emptyTable": "Нет данных для отображения",
                                                "infoEmpty": "Показаны записи с 0 по 0 из 0 записей",
                                                "infoPostFix": "",
                                                "thousands": ",",
                                                "loadingRecords": "Загрузка...",
                                                "processing": "Обработка...",
                                                "search": "Поиск:",
                                                "zeroRecords": "Ничего не найдено",
                                                "paginate": {
                                                    "first": "Первая",
                                                    "last": "Последняя",
                                                    "next": "Следующая",
                                                    "previous": "Предыдущая"
                                                }
                                            },

                                            "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>" +
                                                    "<'row'<'col-sm-12'tr>>" +
                                                     "<'row'<'col-sm-0'><'col-sm-12'p>>",
                                            "columnDefs": [
                                        { "width": "25%", "targets": 0 },
                                        { "width": "25%", "targets": 1 }
                                            ],
                                            fixedHeader: true,
                                            "paging": true
                                        });



                                    });


                                    //function red(elementId) {
                                    //    $(elementId).css('background-color', 'red');
                                    //};

                                    //$(document).ready(red("body"));



                                    $(document).on('click', '.modal-content button[data-dismiss="modal"]', (function () {


                                        $('table tr').removeClass('chosen');
                                        $(".clear button[type='submit']").attr("disabled", "disabled");
                                    }));

                                    $(document).on('click', '#btChoiceClient', (function () {

                                        var id = $('.chosen input[type=hidden]').attr("value");

                                        var name = $("#tbClients .chosen strong")[1].innerText;

                                        $("#indoorText").val(name);
                                        $("#mdNewOrder input[name='ID_клиента']").val(id);
                                        $('#tbClients tr').removeClass('chosen');
                                        $("#btChoiceClient").attr("disabled", "disabled");


                                    }));

                                    $(document).ready(function () {
                                        $(document).on('click', '#tbClients tbody tr', function choice(tableId, buttonId) {

                                            if ($(this).is('.chosen')) {
                                                $(this).removeClass('chosen');
                                                $("#btChoiceClient").attr('disabled', 'disabled');
                                            }
                                            else {
                                                $("#tbClients tr").removeClass('chosen');

                                                $(this).toggleClass('chosen');


                                                if ($("#tbClients tr.chosen")) {
                                                    $("#btChoiceClient").removeAttr("disabled");
                                                }

                                                if (!($("tr").is(".chosen"))) {
                                                    $("#btChoiceClient").attr("disabled", "disabled");
                                                }
                                            }

                                        });

                                    });
                                </script>




                                <div class="form-group">
                                    <label class="control-label col-md-3">Сотрудник</label>
                                    <div class="col-md-7">
                                        <div class="indoorBtnDiv input-group">
                                            <input type="hidden" value="" name="Табельный_номер" />
                                            <input id="indoorTextEmployee" class="form-control" name="Emp" type="text" value="" readonly required />
                                            <div class="input-group-btn">
                                                <a href="#mdEmployeeChoice" class="indoorBtn btn btn-default" data-toggle="modal">+</a>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <script>

                                    $(document).on('click', '#btEmployeeChoice', (function () {

                                        var id = $('.chosen input[type=hidden]').attr("value");

                                        var name = $("#tbEmployeeChoice .chosen strong")[0].innerText;

                                        $("#indoorTextEmployee").val(name);
                                        $("#mdNewOrder input[name='Табельный_номер']").val(id);
                                        $('#tbEmployeeChoice tr').removeClass('chosen');
                                        $("#btEmployeeChoice").attr("disabled", "disabled");


                                    }));

                                    $(document).ready(function () {
                                        $(document).on('click', '#tbEmployeeChoice tbody tr', function () {

                                            if ($(this).is('.chosen')) {
                                                $(this).removeClass('chosen');
                                                $("#btEmployeeChoice").attr('disabled', 'disabled');
                                            }
                                            else {
                                                $("#tbEmployeeChoice tr").removeClass('chosen');

                                                $(this).toggleClass('chosen');


                                                if ($("#tbEmployeeChoice tr.chosen")) {
                                                    $("#btEmployeeChoice").removeAttr("disabled");
                                                }

                                                if (!($("tr").is(".chosen"))) {
                                                    $("#btEmployeeChoice").attr("disabled", "disabled");
                                                }
                                            }

                                        });

                                    });

                                    $('#tbEmployeeChoice').DataTable({

                                        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Все"]],

                                        "processing": true,
                                        //"order": [[1, 'desc']],
                                        fixedHeader: true,
                                        "autoWidth": false,
                                        "language": {
                                            "lengthMenu": "Показывать _MENU_ записей",
                                            "info": "Показаны записи с _START_ по _END_ из _TOTAL_ записей",
                                            "infoFiltered": " (Найдено из _MAX_ записей)",
                                            "emptyTable": "Нет данных для отображения",
                                            "infoEmpty": "Показаны записи с 0 по 0 из 0 записей",
                                            "infoPostFix": "",
                                            "thousands": ",",
                                            "loadingRecords": "Загрузка...",
                                            "processing": "Обработка...",
                                            "search": "Поиск:",
                                            "zeroRecords": "Ничего не найдено",
                                            "paginate": {
                                                "first": "Первая",
                                                "last": "Последняя",
                                                "next": "Следующая",
                                                "previous": "Предыдущая"
                                            }
                                        },

                                        "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>" +
                                                "<'row'<'col-sm-12'tr>>" +
                                                 "<'row'<'col-sm-0'><'col-sm-12'p>>",
                                        "columnDefs": [
                                    { "width": "25%", "targets": 0 },
                                    { "width": "25%", "targets": 1 }
                                        ],
                                        fixedHeader: true,
                                        "paging": true
                                    });
                                </script>
                                <div class="form-group">

                                    <div class="col-md-7 col-md-offset-3">
                                        <div class="input-group">

                                            <div class="input-group-btn">
                                                <a href="#mdGoodsChoice" class="btn btn-default" data-toggle="modal">Добавить товар в заказ</a>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <table class="table-bordered table-striped" id="tbGoodsChosen">
                                    <colgroup>
                                        <col width="25%">
                                        <col width="25%">
                                    </colgroup>
                                    <thead>

                                        <tr>
                                            <th class="text-center">Обозначение</th>
                                            <th class="text-center">Наименование</th>
                                            <th class="text-center">Ед.изм.</th>

                                            <th class="text-center">Цена</th>
                                            <th class="text-center">Цена с НДС</th>
                                            <th class="text-center">Количество</th>
                                            <th class="text-center"></th>

                                        </tr>

                                    </thead>
                                    <tbody></tbody>
                                </table>



                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default clear" data-dismiss="modal">Закрыть</button>
                                    <button type="submit" class="btn btn-success">Добавить заказ</button>
                                </div>
                            </div>
                                }
                                <script>

                                    $('#fmNewOrder').submit(function () {
                                        var rows = $("#tbGoodsChosen tbody tr");
                                        for (var i = 0; i < rows.length; i++) {
                                            $("input[name='ID_товара']", rows[i]).attr('name', 'Оформление_заказа[' + i + '].ID_товара');
                                            $("input[name='Количество']", rows[i]).attr('name', 'Оформление_заказа[' + i + '].Количество');
                                        }

                                        return true;
                                    });
                                </script>
                            </fieldset>

                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>
<div id="mdChoiceClient" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Выберите клиента</h4>
            </div>
            <div class="modal-body">
                <table class="table-bordered table-striped" id="tbClients">
                    <colgroup>
                        <col width="5%">
                        <col width="10%">
                    </colgroup>

                    <thead>
                        <tr>
                            <th class="text-center">УНП</th>
                            <th class="text-center">Клиент</th>
                        </tr>

                    </thead>
                    <tbody>
                        @Html.Action("AllClients")
                    </tbody>
                </table>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary" id="btChoiceClient" disabled>Выбрать</button>
            </div>
        </div>
    </div>
</div>
<div id="mdEmployeeChoice" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Выберите сотрудника</h4>
            </div>
            <div class="modal-body">
                <table class="table-bordered table-striped tbChoice" id="tbEmployeeChoice">
                    <colgroup>
                        <col width="25%">
                        <col width="20%">
                        <col width="25%">
                        <col width="25%">
                    </colgroup>

                    <thead>
                        <tr>
                            <th class="text-center">Фамилия</th>
                            <th class="text-center">Имя</th>
                            <th class="text-center">Отчество</th>
                            <th class="text-center">Должность</th>
                        </tr>

                    </thead>
                    <tbody>
                        @Html.Action("AllEmployee")
                    </tbody>
                </table>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary" id="btEmployeeChoice" disabled>Выбрать</button>
            </div>
        </div>
    </div>
</div>
<div class="scrollup">
    <i class="glyphicon glyphicon-chevron-up"></i>
</div>


@section scripts {
    <script type="text/javascript" src="/Scripts/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="/Scripts/bootstrap-datetimepicker.min.js"></script>
    <link rel="stylesheet" href="/Content/bootstrap-datetimepicker.min.css" />

}

<script>
    $(document).ready(function () {

        $('.tbChoice').DataTable({

            "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Все"]],

            "processing": true,
            "order": [[1, 'desc']],
            fixedHeader: true,
            "autoWidth": false,
            "language": {
                "lengthMenu": "Показывать _MENU_ записей",
                "info": "Показаны записи с _START_ по _END_ из _TOTAL_ записей",
                "infoFiltered": " (Найдено из _MAX_ записей)",
                "emptyTable": "Нет данных для отображения",
                "infoEmpty": "Показаны записи с 0 по 0 из 0 записей",
                "infoPostFix": "",
                "thousands": ",",
                "loadingRecords": "Загрузка...",
                "processing": "Обработка...",
                "search": "Поиск:",
                "zeroRecords": "Ничего не найдено",
                "paginate": {
                    "first": "Первая",
                    "last": "Последняя",
                    "next": "Следующая",
                    "previous": "Предыдущая"
                }
            },

            "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>" +
                    "<'row'<'col-sm-12'tr>>" +
                     "<'row'<'col-sm-0'><'col-sm-12'p>>",
            "columnDefs": [
        { "width": "25%", "targets": 0 },
        { "width": "25%", "targets": 1 }
            ],
            fixedHeader: true,
            "paging": true
        });



    });


</script>

<div id="mdGoodsChoice" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Выберите товар</h4>
            </div>
            <div class="modal-body" id="dvGoodsChoice">

                @Html.Action("AllGoods")

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary" id="btChoiceGoods" disabled>Выбрать</button>
            </div>
        </div>
    </div>
</div>

<script>

    $(document).on('click', '#tbGoodsChoice tbody tr', (function () {

        if ($(this).is('.chosen')) {
            $(this).removeClass('chosen');
            //$("#btChoiceGoods").attr('disabled', 'disabled');
        }
        else {
            //$('#tbGoodsChoice tr').removeClass('chosen');

            $(this).toggleClass('chosen');


            if ($('#tbGoodsChoice tr .chosen')) {
                $("#btChoiceGoods").removeAttr("disabled");
            }

            if (!($("tr").is(".chosen"))) {
                $("#btChoiceGoods").attr("disabled", "disabled");
            }
        }
        if (!($("tr").is(".chosen"))) {
            $("#btChoiceGoods").attr("disabled", "disabled");
        }
        else { $("#btChoiceGoods").removeAttr("disabled"); }
    }));

    $(document).on('click', '.modal-content button[data-dismiss="modal"]', (function () {


        $('#tbGoodsChoice tr').removeClass('chosen');
        $("#btChoiceGoods").attr("disabled", "disabled");
    }));

    //$(document).on('click', '#btChoiceGoods', (function () {
    //    var a = $('.chosen input[type=hidden]').attr("value");
    //    $("#indoorText").val(a);
    //    $('#tbProviders tr').removeClass('chosen');
    //    $("#btChoiceProv").attr("disabled", "disabled");


    //}));

    $('#btChoiceGoods').click(function () {


        var tr = $('#tbGoodsChoice tr.chosen');
        var table = $('#tbGoodsChoice').DataTable();

        var rows = table
            .rows('.chosen')
            .remove()
            .draw();
        var tableGoodsChosen = $("#tbGoodsChosen").DataTable();
        var tr1 = tr.append('<td class="text-center"><input type="number" min="1" max="2147483647" name="Количество" style="width:70px;" value="1" required /></td><td class="text-center"><a class="glyphicon glyphicon-remove" style="text-decoration:none;color:#E81C2C"></a></td>');
        tableGoodsChosen.rows.add(tr1).draw();
        //$('#tbGoodsChosen > tbody:last-child').append(tr);
        $('#tbGoodsChosen tr.chosen').removeClass('chosen').removeClass('odd').removeAttr("role").addClass('added');
        //$('#tbGoodsChosen tbody tr.added').append('<td class="text-center"><input type="number" min="1" max="2147483647" name="Количество" style="width:70px;" value="1" required /></td><td class="text-center"><a class="glyphicon glyphicon-remove" style="text-decoration:none;color:#E81C2C"></a></td>');
        $('#tbGoodsChosen tbody tr.added').removeClass('added');
        $('#tbGoodsChosen tr').unbind('click');

        @*$.ajax({method: "GET",url: "@Url.Action("AllGoods")"}).done( function (data) {
            $('#dvGoodsChoice').html(data);
        });*@
    });

    $("#mdNewOrder button.clear").click(function () {
        $("#mdNewOrder input[type='text']").val(null);



        $('#tbGoodsChosen').DataTable()
            .rows()
            .remove()
            .draw();
    });

    $(document).on("click", ".glyphicon-remove", function () {
        $('#tbGoodsChosen').DataTable()
            .row($(this).closest("tr"))
            .remove()
            .draw();
    });

    
</script>